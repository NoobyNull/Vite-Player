<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base44 App Player</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-left">
                <h1 class="logo">
                    <span class="logo-icon">‚ö°</span>
                    Base44 App Player
                </h1>
            </div>
            <div class="header-right">
                <div class="status-indicator" id="systemStatus">
                    <span class="status-dot offline"></span>
                    <span class="status-text">Offline</span>
                </div>
                <button class="btn btn-settings" id="settingsBtn">
                    <span>‚öôÔ∏è</span> Settings
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Upload Section -->
            <section class="upload-section">
                <!-- Upload Mode -->
                <div class="upload-mode-selector">
                    <button class="mode-btn active" id="zipModeBtn">üìÅ ZIP File Upload</button>
                    <button class="mode-btn" id="githubModeBtn">üêô GitHub Repository</button>
                </div>

                <!-- ZIP Upload Mode -->
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">üìÅ</div>
                        <h2>Upload Base44 Application</h2>
                        <p>Drag and drop your Base44 app ZIP file here, or click to browse</p>
                        <input type="file" id="fileInput" accept=".zip" hidden>
                        <button class="btn btn-primary" id="browseBtn">Browse Files</button>
                    </div>
                    <div class="upload-progress hidden" id="uploadProgress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p class="progress-text" id="progressText">Uploading... 0%</p>
                    </div>
                </div>

                <!-- GitHub Upload Mode -->
                <div class="upload-area hidden" id="githubArea">
                    <div class="upload-content">
                        <div class="upload-icon">üêô</div>
                        <h2>Import from GitHub Repository</h2>
                        <p>Paste your Base44 GitHub repository URL below</p>
                        <div class="github-input-group">
                            <input type="url" id="githubInput" placeholder="https://github.com/username/repository-name.git" class="github-input">
                            <button class="btn btn-secondary" id="validateGithubBtn">üîç Validate</button>
                        </div>
                        <div class="github-options">
                            <p class="helper-text">
                                üí° <strong>Tip:</strong> Paste any Base44 GitHub repository URL above, or use the format:
                                <code>https://github.com/[username]/[repository].git</code>
                            </p>
                        </div>
                        <div class="github-info hidden" id="githubInfo">
                            <div class="info-item">
                                <strong>Repository:</strong> <span id="repoName"></span>
                            </div>
                            <div class="info-item">
                                <strong>Branch:</strong> <span id="repoBranch">main</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" id="importGithubBtn" disabled>üì• Import Repository</button>
                    </div>
                    <div class="upload-progress hidden" id="githubProgress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="githubProgressFill"></div>
                        </div>
                        <p class="progress-text" id="githubProgressText">Importing... 0%</p>
                    </div>
                </div>

            </section>

            <!-- Apps Grid -->
            <section class="apps-section">
                <div class="section-header">
                    <h2>Installed Applications</h2>
                    <div class="section-controls">
                        <select id="modeSelect" class="mode-select">
                            <option value="single">Single App Mode</option>
                            <option value="multi">Multi App Mode</option>
                            <option value="hybrid">Hybrid Mode</option>
                        </select>
                        <button class="btn btn-secondary" id="refreshBtn">üîÑ Refresh</button>
                    </div>
                </div>
                
                <div class="apps-grid" id="appsGrid">
                    <!-- Apps will be dynamically loaded here -->
                </div>

                <div class="empty-state" id="emptyState">
                    <div class="empty-icon">üì±</div>
                    <h3>No Applications Found</h3>
                    <p>Upload your first Base44 application to get started.</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="closeSettings">√ó</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="portRange">Port Range</label>
                    <input type="text" id="portRange" placeholder="3000-3999" value="3000-3999">
                </div>
                <div class="setting-group">
                    <label for="maxApps">Max Concurrent Apps</label>
                    <input type="number" id="maxApps" min="1" max="10" value="5">
                </div>
                <div class="setting-group">
                    <label for="autoStart">Auto-start on Upload</label>
                    <input type="checkbox" id="autoStart" checked>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelSettings">Cancel</button>
                <button class="btn btn-primary" id="saveSettings">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="assets/dashboard.js"></script>
</body>
</html>